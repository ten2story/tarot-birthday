<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ë‚´ íƒ€ë¡œ íƒ„ìƒë²ˆí˜¸ & ë¼ì´í”„ íŒ¨ìŠ¤</title>
<style>
  :root{
    --bg:#F7F6FF; --card:#FFFFFF; --ink:#2B2A3F; --muted:#787696;
    --accent:#6E65F4; --accent-2:#9E91FF; --ring:rgba(158,145,255,.28);
    --soft:#F4F2FF; --soft-2:#FBFAFF; --pill:#EFEAFF;
    --good:#4C3EF7;
  }
  *{box-sizing:border-box}
  body{
    margin:0; font-family: ui-sans-serif, -apple-system, Segoe UI, Roboto, 'Noto Sans KR', sans-serif;
    background: linear-gradient(180deg, #FAF8FF 0%, #F7F6FF 40%, #FBFAFF 100%);
    color:var(--ink);
  }
  .wrap{max-width:980px; margin:0 auto; padding:28px 18px 48px}
  .hero{ padding:12px 0 22px; text-align:center; }
  /* â–¶ íƒ€ì´í‹€: ì§„í•œ í†¤ + ì€ì€í•œ ê·¸ë¼ë°ì´ì…˜ */
  .title{
    margin:8px 0 6px;
    font-size:34px; line-height:1.25; letter-spacing:-.3px; font-weight:900;
    background:linear-gradient(180deg,#18173A 0%, #2C2962 55%, #0F0D28 100%);
    -webkit-background-clip:text; background-clip:text; color:transparent;
    text-shadow:0 1px 0 rgba(255,255,255,.25);
  }
  .sub{color:var(--muted); margin:2px auto 14px; max-width:680px}
  .panel{
    background:var(--card); border:1px solid #EEE9FF; border-radius:18px; padding:18px;
    box-shadow:0 10px 26px rgba(60,40,120,.06)
  }
  .controls{display:flex; gap:10px; justify-content:center; align-items:center; flex-wrap:wrap; margin:10px 0 8px}
  .datebox{display:flex; gap:6px; align-items:center}
  .datebox input{
    width:86px; padding:10px 12px; border:1px solid #DDD7FF; border-radius:10px; outline:none; font-size:16px; background:#fff; text-align:center;
  }
  .datebox input.mm, .datebox input.dd{width:70px}
  .datebox input:focus{box-shadow:0 0 0 8px var(--ring); border-color:#CFC6FF}
  button{padding:10px 14px; border:none; border-radius:10px; background:var(--accent); color:#fff; font-weight:800; cursor:pointer; letter-spacing:.2px}
  button:hover{filter:brightness(.97)}
  #share{background:var(--accent-2); display:none}
  .result{margin-top:16px; display:none}
  /* â–¶ PCì—ì„  íƒ€ë¡œê°€ ì¡°ê¸ˆ ë” ë„“ê²Œ */
  .grid{display:grid; grid-template-columns: 0.95fr 1.05fr; gap:16px}
  @media (max-width:880px){ .grid{grid-template-columns:1fr} }
  .box{background:var(--soft); border:1px solid #EEE8FF; border-radius:16px; padding:16px}
  .row{display:flex; gap:12px; align-items:center; flex-wrap:wrap}
  .lpnum{font-size:46px; font-weight:900; color:var(--good); min-width:72px}
  .muted{color:var(--muted)}
  .k{font-weight:900}
  .kwrap{display:flex; gap:8px; flex-wrap:wrap; margin:10px 0}
  .kw{background:#F1EEFF; color:#4F46E5; border:1px solid #E6E0FF; padding:6px 10px; border-radius:999px; font-weight:700; font-size:13px}
  .desc{line-height:1.85; font-size:15px}
  .imggrid{display:grid; grid-template-columns:140px 1fr; gap:14px; align-items:start}
  @media (max-width:520px){ .imggrid{grid-template-columns:1fr} }
  .imgframe{width:140px; height:220px; border-radius:14px; background:linear-gradient(180deg,#FFF,#F6F2FF);
            border:1px solid #EEE8FF; display:flex; align-items:center; justify-content:center; overflow:hidden; position:relative}
  .imgframe img{width:100%; height:100%; object-fit:cover; display:block}
  .ph{display:flex; align-items:center; justify-content:center; text-align:center; padding:16px; color:#7B74B1}
  .ph .num{font-size:40px; font-weight:900; line-height:1}
  .ph .nm{font-weight:800; margin-top:6px}
  .copybox{display:none; margin-top:10px; background:#F7F5FF; border:1px dashed #DAD1FF; border-radius:10px; padding:10px; color:#574F9A}
  .footer{margin-top:14px; font-size:12px; color:var(--muted); text-align:center}
</style>
</head>
<body>
  <div class="wrap">
    <div class="hero">
      <h1 class="title">ë‚´ íƒ€ë¡œ íƒ„ìƒë²ˆí˜¸ & ë¼ì´í”„ íŒ¨ìŠ¤</h1>
      <p class="sub">ìƒì¼ì„ ì…ë ¥í•˜ë©´, ë¼ì´í”„ íŒ¨ìŠ¤ ë„˜ë²„ì™€ ì—°ê²°ëœ íƒ€ë¡œ ë©”ì´ì € ì•„ë¥´ì¹´ë‚˜ê°€ ìë™ìœ¼ë¡œ í‘œì‹œë©ë‹ˆë‹¤.</p>
      <div class="panel">
        <div class="controls">
          <div class="datebox">
            <input id="yy" class="yy" inputmode="numeric" placeholder="YYYY" maxlength="4" aria-label="ì—°ë„(YYYY)" />
            <span>Â·</span>
            <input id="mm" class="mm" inputmode="numeric" placeholder="MM" maxlength="2" aria-label="ì›”(MM)" />
            <span>Â·</span>
            <input id="dd" class="dd" inputmode="numeric" placeholder="DD" maxlength="2" aria-label="ì¼(DD)" />
          </div>
          <button id="calc">ê³„ì‚°í•˜ê¸°</button>
          <button id="share">ê²°ê³¼ ë§í¬ ë³µì‚¬</button>
        </div>
        <p class="sub" id="hint">ì˜ˆ) 2001Â·08Â·15</p>

        <div id="result" class="result">
          <div class="grid">
            <!-- ìˆ˜ë¹„í•™ -->
            <div class="box">
              <div class="row">
                <div class="lpnum" id="lpnum">â€“</div>
                <div>
                  <div><span class="k">ë¼ì´í”„ íŒ¨ìŠ¤ ë„˜ë²„</span> Â· <span id="lptext">â€”</span></div>
                  <div class="muted" id="doblabel"></div>
                </div>
              </div>
              <div class="kwrap" id="lpkw"></div>
              <div class="desc" id="lp-plus">â€”</div>
              <div class="desc" id="lp-minus" style="margin-top:10px">â€”</div>
            </div>

            <!-- íƒ€ë¡œ -->
            <div class="box">
              <div class="imggrid">
                <div class="imgframe" id="imgframe">
                  <div class="ph" id="placeholder">
                    <div>
                      <div class="num" id="phnum">â€“</div>
                      <div class="nm" id="phname">ì¹´ë“œ</div>
                    </div>
                  </div>
                </div>
                <div>
                  <div class="k" id="tarotline">â€”</div>
                  <div class="kwrap" id="keywords"></div>
                  <div class="desc" id="desc">â€”</div>
                  <div class="desc" id="synergy" style="margin-top:10px">â€”</div>
                </div>
              </div>
            </div>
          </div>

          <div class="copybox" id="copybox">ê²°ê³¼ í˜ì´ì§€ ë§í¬ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤. ì–´ë””ë“  ë¶™ì—¬ë„£ì–´ ê³µìœ í•´ë³´ì„¸ìš” ğŸ˜Š</div>
        </div>
      </div>

      <div class="footer">
        ì¹´ë“œ ì´ë¯¸ì§€ë¥¼ ë„£ìœ¼ë ¤ë©´, ì´ íŒŒì¼ê³¼ ê°™ì€ í´ë”ì— <code>cards/ìˆ«ì.png</code> (ì˜ˆ: <code>4.png</code>)ë¥¼ ì¶”ê°€í•˜ì„¸ìš”. ë°”ë³´ ì¹´ë“œëŠ” <code>0.png</code> ë˜ëŠ” <code>22.png</code> ëª¨ë‘ ì§€ì›í•©ë‹ˆë‹¤.
      </div>
    </div>
  </div>

<script>
/* ---------- ìœ í‹¸ ---------- */
function sumDigits(str){ return str.split('').reduce((a,ch)=> a + (/\d/.test(ch)? Number(ch):0), 0); }
function reduceNumber(n){
  if (n===11 || n===22) return n;
  while(n>9){
    n = String(n).split('').reduce((a,b)=>a+Number(b),0);
    if (n===11 || n===22) break;
  }
  return n;
}

/* ---------- íƒ€ë¡œ ì¹´ë“œ í™•ì¥ ì„¤ëª… ---------- */
const TAROT = {
  0:{name:'ë°”ë³´ (The Fool)', num:'0/22', kw:['ìˆœìˆ˜','ë„ì „','ìƒˆ ì¶œë°œ','ììœ '],
     desc:'ìƒˆ ì—¬ì •ì˜ ë¬¸ì´ ì—´ë¦½ë‹ˆë‹¤. ê³„íšë³´ë‹¤ ê°ê°ì´ ì•ì„œì§€ë§Œ, ê·¸ë§Œí¼ ì°½ì˜ì ì¸ ìš°íšŒë¡œê°€ ë³´ì…ë‹ˆë‹¤. ë‘ë ¤ì›€ ëŒ€ì‹  í˜¸ê¸°ì‹¬ì´ ë¦¬ë“œë¥¼ ì¡ì„ ë•Œ ì˜ˆìƒì¹˜ ëª»í•œ ë°œê²¬ì´ ë”°ë¼ì˜µë‹ˆë‹¤. ì‹¤ìˆ˜ëŠ” ê³§ í•™ìŠµì˜ ì§€ë¦„ê¸¸ì´ì—ìš”.'},
  1:{name:'ë§ˆë²•ì‚¬ (The Magician)', num:'1', kw:['ì‹œì‘','ì°½ì¡°','ì˜ì§€','ì‹¤í–‰'],
     desc:'ì˜ë„ì™€ í–‰ë™ì´ í•œ ì¤„ë¡œ ë§ì¶°ì§€ëŠ” ì‹œê¸°. ë¨¸ë¦¿ì† ì•„ì´ë””ì–´ê°€ í˜„ì‹¤ì˜ í˜•íƒœë¥¼ ê°–ì¶¥ë‹ˆë‹¤. ë„êµ¬ëŠ” ì´ë¯¸ ì†ì— ì¥ì–´ì¡Œê³ , ë‚¨ì€ ê±´ â€œì§€ê¸ˆ ì‹œì‘â€ë¿. ì‘ì€ í”„ë¡œí† íƒ€ì…ì´ í° ëŒíŒŒêµ¬ê°€ ë©ë‹ˆë‹¤.'},
  2:{name:'ì—¬ì‚¬ì œ (High Priestess)', num:'2', kw:['ì§ê´€','ë‚´ë©´','ë¹„ë°€','ì§€í˜œ'],
     desc:'ê²‰ëª¨ìŠµ ë’¤ì˜ ë§¥ë½ì„ ì½ì–´ë‚´ëŠ” ëˆˆì´ ì˜ˆë¦¬í•´ì§‘ë‹ˆë‹¤. ì†Œë€ì„ ë¹„ì¼œ ì¡°ìš©íˆ ìë£Œë¥¼ ì¶•ì í•˜ì„¸ìš”. â€œì§€ê¸ˆì€ ë§ì„ ì•„ë‚„ìˆ˜ë¡ í˜ì´ ì»¤ì§„ë‹¤â€ëŠ” ë©”ì‹œì§€. ê²°ì •ì€ ë°¤ë³´ë‹¤ ì•„ì¹¨ì´ ë” ë§‘ê²Œ ë³´ì…ë‹ˆë‹¤.'},
  3:{name:'ì—¬í™©ì œ (The Empress)', num:'3', kw:['í’ìš”','ì°½ì¡°ì„±','ëŒë´„','ìì—°'],
     desc:'ë¬´ë¥´ìµëŠ” ê³„ì ˆ. ê´€ê³„ì™€ ì‘ì—…ì´ ìì—°ìŠ¤ëŸ½ê²Œ í’ì„±í•´ì§‘ë‹ˆë‹¤. â€˜ëŒë´„â€™ê³¼ â€˜ê¾¸ì¤€í•¨â€™ì´ ê²°í•©í•˜ë©´ ìˆ˜ìµí™”ì˜ ì‹¤ë§ˆë¦¬ë„ ë³´ì…ë‹ˆë‹¤. ëª¸ê³¼ ìƒí™œ ë¦¬ë“¬ì„ ëŒë³¼ìˆ˜ë¡ ê²°ê³¼ë¬¼ì´ ë”ìš± ì•„ë¦„ë‹¤ì›Œì ¸ìš”.'},
  4:{name:'í™©ì œ (The Emperor)', num:'4', kw:['êµ¬ì¡°','ì•ˆì •','ì±…ì„','ë¦¬ë”ì‹­'],
     desc:'í† ëŒ€ë¥¼ ë‹¨ë‹¨íˆ ê³ ì •í•˜ëŠ” ë•Œ. ê·œì¹™ê³¼ ì‹œìŠ¤í…œ, ê¶Œí•œê³¼ ì±…ì„ì„ ë¶„ëª…íˆ í• ìˆ˜ë¡ ì„±ê³¼ê°€ ëˆ„ì ë©ë‹ˆë‹¤. ì´ˆë°˜ì—” ë”±ë”±í•´ ë³´ì¼ì§€ ëª°ë¼ë„, ì¥ê¸°ì ìœ¼ë¡œëŠ” ëª¨ë“  ì‚¬ëŒì„ í¸í•˜ê²Œ ë§Œë“­ë‹ˆë‹¤.'},
  5:{name:'êµí™© (The Hierophant)', num:'5', kw:['ì „í†µ','ì‹ ë¢°','ê°€ë¥´ì¹¨','ë©˜í† '],
     desc:'ë¯¿ì„ ë§Œí•œ ê¸°ì¤€ê³¼ ë„ì œì˜ ê¸¸. ì´ë¯¸ ê²€ì¦ëœ ë°©ë²•ì„ ë°°ì›Œ ë‚˜ë§Œì˜ ë°©ì‹ìœ¼ë¡œ ë…¹ì´ëŠ” ì§€í˜œê°€ í•„ìš”í•©ë‹ˆë‹¤. ê°€ë¥´ì¹¨ì„ ë°›ê±°ë‚˜ ì „í•œ ê²½í—˜ì´ ì‹ ë¢°ë¡œ ëŒì•„ì˜¤ëŠ” ì‹œê¸°ì…ë‹ˆë‹¤.'},
  6:{name:'ì—°ì¸ (The Lovers)', num:'6', kw:['ì‚¬ë‘','ì„ íƒ','ê°€ì¹˜ ì •ë ¬','ê´€ê³„'],
     desc:'â€œë¬´ì—‡ì„ ì‚¬ë‘í•  ê²ƒì¸ê°€â€ê°€ ê³§ â€œì–´ë–»ê²Œ ì„ íƒí•  ê²ƒì¸ê°€â€ê°€ ë©ë‹ˆë‹¤. ë§ˆìŒê³¼ ê°€ì¹˜ê°€ ì¼ì¹˜í•˜ëŠ” ë°©í–¥ì„ ê³ ë¥´ì„¸ìš”. ì¢‹ì€ íŒŒíŠ¸ë„ˆì‹­ì€ ìƒì‚°ì„±ê³¼ í–‰ë³µì„ ë™ì‹œì— í‚¤ì›ë‹ˆë‹¤.'},
  7:{name:'ì „ì°¨ (The Chariot)', num:'7', kw:['ì˜ì§€','ì¶”ì§„ë ¥','ìŠ¹ë¦¬','ì§‘ì¤‘'],
     desc:'í”ë“¤ë¦¼ ì—†ëŠ” ì§‘ì¤‘ì´ ìŠ¹ë¦¬ë¥¼ ë¶€ë¦…ë‹ˆë‹¤. ì†ë„ë³´ë‹¤ â€˜ë°©í–¥ ìœ ì§€â€™ê°€ í•µì‹¬. ì™¸ë¶€ ì†ŒìŒì´ ì»¤ì§ˆìˆ˜ë¡, ë‚´ë¶€ ì¡°ì¢…ê°„ì„ ê½‰ ì¡ëŠ” ì—°ìŠµì´ í•„ìš”í•©ë‹ˆë‹¤. ì´ê¸¸ ìˆ˜ ìˆëŠ” ì‹¸ì›€ë§Œ ì„ íƒí•˜ì„¸ìš”.'},
  8:{name:'í˜ (Strength)', num:'8', kw:['ìš©ê¸°','ì¸ë‚´','ìê¸° í†µì œ','ì˜¨í™”í•œ ë¦¬ë”ì‹­'],
     desc:'ê±°ì¹œ í˜ë³´ë‹¤ ë¶€ë“œëŸ¬ìš´ í†µì œê°€ ë” ë©€ë¦¬ ê°‘ë‹ˆë‹¤. ìŠ¤ìŠ¤ë¡œë¥¼ ë‹¤ìŠ¤ë¦´ ë•Œ ì™¸ë¶€ì˜ ë‚œê´€ë„ í’€ë¦½ë‹ˆë‹¤. ê°ì •ì˜ ë¦¬ë“¬ì„ ì´í•´í•˜ê³  ë‹¤ë£¨ëŠ” íƒœë„ê°€ ì¥ê¸°ì  ì„±ê³¼ë¡œ ì´ì–´ì§‘ë‹ˆë‹¤.'},
  9:{name:'ì€ë‘”ì (The Hermit)', num:'9', kw:['íƒêµ¬','ì„±ì°°','ì§€í˜œ','ê³ ë…'],
     desc:'ë“±ë¶ˆì„ ì¼œê³  í•œ ê±¸ìŒ ë¬¼ëŸ¬ì„œ ë³´ì„¸ìš”. ê³ ìš” ì†ì—ì„œ í•µì‹¬ì´ ì„ ëª…í•´ì§‘ë‹ˆë‹¤. í˜¼ìë¼ì„œ ê°€ëŠ¥í•œ íƒêµ¬ê°€ ìˆìœ¼ë©°, ê·¸ ë‹µì€ ë‹¤ì‹œ ì‚¬ëŒì—ê²Œë¡œ ëŒì•„ê°‘ë‹ˆë‹¤.'},
  10:{name:'ìš´ëª…ì˜ ìˆ˜ë ˆë°”í€´ (Wheel of Fortune)', num:'10', kw:['ë³€í™”','íë¦„','ì „í™˜','ê¸°íšŒ'],
     desc:'ìƒìŠ¹ê³¼ í•˜ê°•ì´ êµì°¨í•˜ëŠ” ë°”í€´ ìœ„. íë¦„ì„ íƒ“í•˜ê¸°ë³´ë‹¤ íŒ¨í„´ì„ ê´€ì°°í•˜ë©´ ê¸°íšŒê°€ ë³´ì…ë‹ˆë‹¤. ì˜¬ë¼íƒˆ íƒ€ì´ë°ê³¼ ë‚´ë ¤ì˜¬ íƒ€ì´ë°ì„ ìŠ¤ìŠ¤ë¡œ ì„ íƒí•˜ì„¸ìš”.'},
  11:{name:'ì •ì˜ (Justice)', num:'11', kw:['ê· í˜•','ê³µì •','ì§„ì‹¤','ì±…ì„'],
     desc:'ì €ìš¸ì„ ë‹¤ì‹œ ë§ì¶¥ë‹ˆë‹¤. ì„ íƒì—ëŠ” ì–¸ì œë‚˜ ê²°ê³¼ê°€ ë”°ë¦…ë‹ˆë‹¤. ì›ì¹™ì„ ì§€í‚¤ë˜, ì‚¬ëŒì„ ìƒì§€ ì•ŠëŠ” ì„ ì„ ì°¾ì„ ë•Œ ì‹ ë¢°ê°€ ìŒ“ì…ë‹ˆë‹¤.'},
  12:{name:'ë§¤ë‹¬ë¦° ì‚¬ëŒ (Hanged Man)', num:'12', kw:['ê´€ì  ì „í™˜','ë©ˆì¶¤','ìˆ˜ìš©'],
     desc:'ë©ˆì¶¤ì€ ì‹¤íŒ¨ê°€ ì•„ë‹ˆë¼ ì „ëµì…ë‹ˆë‹¤. í•œ ë²ˆ ê±°ê¾¸ë¡œ ë’¤ì§‘ì–´ ë³´ë©´ ë‹µì´ ë‹¨ìˆœí•´ì§‘ë‹ˆë‹¤. ë‚´ë ¤ë†“ìŒì´ ì—­ì„¤ì ìœ¼ë¡œ ì§„ì „ì„ ë§Œë“­ë‹ˆë‹¤.'},
  13:{name:'ì£½ìŒ (Death)', num:'13', kw:['ì¢…ê²°','ì¬íƒ„ìƒ','í° ë³€í™”'],
     desc:'ë‚¡ì€ ê»ì§ˆì„ ë²—ê²¨ë‚´ëŠ” í†µê³¼ì˜ë¡€. ëì€ ì‹œì‘ì˜ ë‹¤ë¥¸ ì´ë¦„ì…ë‹ˆë‹¤. ê³¼ê°íˆ ì •ë¦¬í•œ ë§Œí¼ ìƒˆ ê³µê°„ì´ ì—´ë¦½ë‹ˆë‹¤.'},
  14:{name:'ì ˆì œ (Temperance)', num:'14', kw:['ì¡°í™”','ì¤‘ìš©','ê· í˜•','ì¹˜ìœ '],
     desc:'ì„ê³  í¬ì„í•˜ê³  ë§ì¶”ëŠ” ì‹œê°„. ë¬´ë¦¬í•œ ì†ë„ë¥¼ ë‚®ì¶”ê³ , ì˜¤ë˜ ê°€ëŠ” ë¦¬ë“¬ì„ ë§Œë“œì„¸ìš”. ì„œë¡œ ë‹¤ë¥¸ ê²ƒì„ ì´ì–´ì£¼ëŠ” â€˜ì¤‘ê°„ì˜ ê¸°ìˆ â€™ì´ ë¹›ë‚©ë‹ˆë‹¤.'},
  15:{name:'ì•…ë§ˆ (The Devil)', num:'15', kw:['ìœ í˜¹','ì§‘ì°©','íŒ¨í„´','ì˜ì¡´'],
     desc:'ë¬¶ì–´ë‘ëŠ” ê²ƒì€ ì‚¬ìŠ¬ì´ ì•„ë‹ˆë¼ ìŠµê´€. ë¬´ì˜ì‹ì˜ íŒ¨í„´ì„ ì¸ì‹í•˜ë©´ ì ˆë°˜ì€ í’€ë¦½ë‹ˆë‹¤. ì¦ê±°ì›€ê³¼ ììœ ë¥¼ ë‹¤ì‹œ í˜‘ìƒí•  ë•Œ ì—ë„ˆì§€ê°€ ëŒì•„ì˜µë‹ˆë‹¤.'},
  16:{name:'íƒ‘ (The Tower)', num:'16', kw:['ë¶•ê´´','ê°ì„±','í•´ë°©'],
     desc:'ê²¬ê³ í•´ ë³´ì˜€ë˜ ê²ƒì´ ë¬´ë„ˆì§ˆ ë•Œ ì§„ì§œ ììœ ê°€ ì‹œì‘ë©ë‹ˆë‹¤. í—ˆìƒì€ ì“°ëŸ¬ì§€ê³ , ì‚¬ì‹¤ë§Œ ë‚¨ìŠµë‹ˆë‹¤. ë¬´ë„ˆì§„ ìë¦¬ì— ë” íŠ¼íŠ¼í•œ êµ¬ì¡°ë¥¼ ì„¸ìš°ì„¸ìš”.'},
  17:{name:'ë³„ (The Star)', num:'17', kw:['í¬ë§','ì˜ê°','ì¹˜ìœ ','ë¹„ì „'],
     desc:'ë¨¼ ê³³ì˜ ë¹›ì´ ê¸¸ì„ ê°€ë¦¬í‚µë‹ˆë‹¤. ì„œë‘ë¥´ì§€ ì•Šì•„ë„ ê´œì°®ìŠµë‹ˆë‹¤. íˆ¬ëª…í•œ ì§„ì‹¬ê³¼ ê¾¸ì¤€í•¨ì´ ë‹¹ì‹ ì˜ ë¸Œëœë“œê°€ ë©ë‹ˆë‹¤.'},
  18:{name:'ë‹¬ (The Moon)', num:'18', kw:['ë¬´ì˜ì‹','ë¶ˆì•ˆ','ìƒìƒ','ì§ê°'],
     desc:'ì•ˆê°œ ì† ê¸¸. ë‘ë ¤ì›€ê³¼ ìƒìƒì´ ë’¤ì„ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê°ì •ì„ ì–µëˆ„ë¥´ê¸°ë³´ë‹¤ ê´€ì°°í•˜ë©´ ì§ê°ì´ ë°©í–¥ì„ ì•Œë ¤ì¤ë‹ˆë‹¤.'},
  19:{name:'íƒœì–‘ (The Sun)', num:'19', kw:['ì„±ì·¨','ìƒëª…ë ¥','ìì‹ ê°','ê¸°ì¨'],
     desc:'ê°€ì¥ ë°ì€ ì¹´ë“œ. ì„±ê³¼ë¥¼ ë‚˜ëˆ„ê³  ì¶•í•˜í•˜ì„¸ìš”. ìì‹ ê°ì€ ì£¼ë³€ì—ë„ ë¹›ì„ ë‚˜ëˆ•ë‹ˆë‹¤. â€œí•¨ê»˜ ì˜ë¨â€ì˜ ê²½í—˜ì´ ìŒ“ì…ë‹ˆë‹¤.'},
  20:{name:'ì‹¬íŒ (Judgement)', num:'20', kw:['ë¶€ë¦„','íšŒë³µ','ê°ì„±','ìƒˆ ì‚¶'],
     desc:'ê¹Šì€ ê³³ì—ì„œ ìš¸ë¦¬ëŠ” í˜¸ì¶œ. ì˜ˆì „ì˜ ë‚˜ë¥¼ ë„˜ì–´ì„œëŠ” ìˆœê°„ì…ë‹ˆë‹¤. ì†Œëª…ì„ ë”°ë¥´ëŠ” ì‚¶ì€ í”¼ê³¤í•¨ë³´ë‹¤ ì˜ë¯¸ê°€ í½ë‹ˆë‹¤.'},
  21:{name:'ì„¸ê³„ (The World)', num:'21', kw:['ì™„ì„±','í†µí•©','ê·€ê²°','ìˆœí™˜'],
     desc:'í•œ ë°”í€´ê°€ ë‹«íˆë©° ë‹¤ìŒ ì›ì´ ì‹œì‘ë©ë‹ˆë‹¤. í©ì–´ì§„ ì¡°ê°ì´ í•˜ë‚˜ë¡œ ë§ì¶°ì§€ë©° ì „ì²´ ê·¸ë¦¼ì´ ë³´ì…ë‹ˆë‹¤. ëì´ì ìƒˆë¡œìš´ ì¶œë°œì„ ì…ë‹ˆë‹¤.'}
};

/* ---------- ë¼ì´í”„ íŒ¨ìŠ¤ ë¼ë²¨/í‚¤ì›Œë“œ ---------- */
const LP_META = {
  1:{label:'ë…ë¦½Â·ê°œì²™Â·ë¦¬ë”ì‹­', kw:['ê°œì²™','ê²°ë‹¨','ì‹¤í–‰']},
  2:{label:'í˜‘ë ¥Â·ê°ìˆ˜ì„±Â·ì¡°ì •', kw:['í˜‘ì—…','ê³µê°','ì¤‘ì¬']},
  3:{label:'í‘œí˜„Â·ì°½ì˜Â·ì¦ê±°ì›€', kw:['í‘œí˜„','ì°½ì˜','ì¦ê±°ì›€']},
  4:{label:'ì•ˆì •Â·ì„±ì‹¤Â·ê¸°ë°˜',   kw:['êµ¬ì¡°','ë£¨í‹´','ì±…ì„']},
  5:{label:'ë³€í™”Â·ëª¨í—˜Â·ììœ ',   kw:['ì „í™˜','ì‹¤í—˜','ì ì‘ë ¥']},
  6:{label:'ëŒë´„Â·ì±…ì„Â·ì¡°í™”',   kw:['ì¼€ì–´','ì±…ì„','ì¡°í™”']},
  7:{label:'íƒêµ¬Â·ë¶„ì„Â·ì§‘ì¤‘',   kw:['íƒêµ¬','ë¶„ì„','ì§‘ì¤‘']},
  8:{label:'ê¶Œìœ„Â·ì„±ì·¨Â·ì¬ì •',   kw:['ê¶Œìœ„','ì„±ê³¼','ì¬ì •']},
  9:{label:'í¬ìš©Â·ë´‰ì‚¬Â·ì§€í˜œ',   kw:['ë´‰ì‚¬','ì§€í˜œ','ì˜ë¯¸']},
  11:{label:'í†µì°°Â·ì˜ê°Â·ì§ê´€', kw:['í†µì°°','ê· í˜•','ì§„ì‹¤']},
  22:{label:'ëŒ€ê¸°íšÂ·êµ¬í˜„',     kw:['ë§ˆìŠ¤í„°','í”Œë«í¼','ì‹¤í˜„']}
};

/* ---------- ìˆ˜ë¹„í•™ í™•ì¥ ì„¤ëª…(ë¬¸ì¥ ì‚´ì§ ì¶”ê°€) ---------- */
const EXPLAINS = {
  1:{
    plus:"ìŠ¤ìŠ¤ë¡œ ê¸¸ì„ ì—¬ëŠ” ê°œì²™ì ê¸°ì§ˆì´ ê°•í•©ë‹ˆë‹¤. ê²°ë‹¨ê³¼ ì¶”ì§„ë ¥ì´ ë›°ì–´ë‚˜ ì¤‘ìš”í•œ ì‹œì‘ì„ ì±…ì„ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì••ë°• ìƒí™©ì—ì„œë„ ë°©í–¥ì„ ì¡ì•„ ì£¼ëŠ” ë¦¬ë”ì‹­ì´ ë‹ë³´ì…ë‹ˆë‹¤.",
    minus:"ë…ë‹¨ì ìœ¼ë¡œ ë³´ì´ê±°ë‚˜ ì¡°ìœ¨ì´ ë¶€ì¡±í•´ ê°ˆë“±ì´ ìƒê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‹œì‘ì€ ë¹ ë¥´ì§€ë§Œ ë§ˆë¬´ë¦¬ë¥¼ êµ¬ì¡°í™”í•˜ì§€ ì•Šìœ¼ë©´ ì†Œëª¨ê°€ ì»¤ì§ˆ ìˆ˜ ìˆì–´ìš”. â€˜ì´ˆê¸° ì„¤ê³„í‘œ+ë°ë“œë¼ì¸â€™ ì¡°í•©ì´ ì•ˆì „ë²¨íŠ¸ê°€ ë©ë‹ˆë‹¤.",
    synergy:"{card}ì™€(ê³¼) ë§Œë‚˜ë©´ ì•„ì´ë””ì–´â†’ì‹¤í–‰ì˜ ì†ë„ê°€ íƒì›”í•´ì§‘ë‹ˆë‹¤. 1ì¸ í”„ë¡œì íŠ¸Â·ì°½ì—…Â·ì„ ë„ì  ì‹œë„ì—ì„œ ëŒíŒŒêµ¬ê°€ ì—´ë¦½ë‹ˆë‹¤."
  },
  2:{
    plus:"ê´€ê³„ì˜ ì˜¨ë„ì™€ ë§¥ë½ì„ ì„¬ì„¸í•˜ê²Œ ì½ìŠµë‹ˆë‹¤. í˜‘ì—…Â·ì¤‘ì¬ ëŠ¥ë ¥ì´ ë›°ì–´ë‚˜ íŒ€ì˜ ê· í˜•ì„ ì¡ì•„ ì¤ë‹ˆë‹¤. ì‚¬ëŒ ì‚¬ì´ì˜ â€˜ê°„ê²©â€™ì„ ì˜ ë§ì¶”ëŠ” ì¬ëŠ¥ì´ ìˆì–´ìš”.",
    minus:"ê²°ì •ì„ ë¯¸ë£¨ê±°ë‚˜ ëˆˆì¹˜ë¥¼ ë³´ë‹¤ê°€ ê¸°íšŒë¥¼ ë†“ì¹  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê°ì • í”¼ë¡œê°€ ëˆ„ì ë˜ê¸° ì‰¬ìš°ë‹ˆ íšŒë³µ ë£¨í‹´ì´ í•„ìš”í•´ìš”. ë•Œë¡œëŠ” â€˜ë‚˜ì˜ ê¸°ì¤€â€™ì„ ë˜ë ·ì´ ë§í•˜ëŠ” ìš©ê¸°ë„ ì¤‘ìš”í•©ë‹ˆë‹¤.",
    synergy:"{card}ì™€(ê³¼) ê²°í•©í•˜ë©´ ì§ê´€ê³¼ ê³µê°ì´ ì •ë°€í•´ì§‘ë‹ˆë‹¤. ë¦¬ì„œì¹˜Â·ìƒë‹´Â·ê¸°íš ì´ˆê¸° ê²€ì¦ì—ì„œ ê°•ì ì´ ë‘ë“œëŸ¬ì§‘ë‹ˆë‹¤."
  },
  3:{
    plus:"í‘œí˜„ê³¼ ì°½ì˜ì˜ ë¶ˆê½ƒì´ ì‚´ì•„ ìˆìŠµë‹ˆë‹¤. ê¸€Â·ë§Â·ë””ìì¸ ë“± ë‹¤ì–‘í•œ ë°©ì‹ìœ¼ë¡œ ì¦ê²ê²Œ ëª°ì…í•˜ë©° ì‚¬ëŒë“¤ì—ê²Œ í™œë ¥ì„ ì „í•©ë‹ˆë‹¤. â€˜ì¦ê±°ì›€ ê¸°ë°˜ ì„±ê³¼â€™ê°€ ê°€ì¥ ìì—°ìŠ¤ëŸ½ìŠµë‹ˆë‹¤.",
    minus:"í¥ë¯¸ê°€ ì¤‘ì‹¬ì´ ë˜ë©´ í”„ë¡œì íŠ¸ê°€ ì¤‘ë„ì— ë©ˆì¶”ê±°ë‚˜ ì™„ì„±ë„ê°€ í”ë“¤ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‘ì€ ëª©í‘œÂ·ì²´í¬ë¦¬ìŠ¤íŠ¸ë¡œ ë¦¬ë“¬ì„ ì¡ìœ¼ì„¸ìš”. í”¼ë“œë°±ì„ ì¼ì° ë°›ìœ¼ë©´ ì™„ì„±ë„ê°€ í¬ê²Œ ì˜¤ë¦…ë‹ˆë‹¤.",
    synergy:"{card}ì™€(ê³¼) ë§Œë‚˜ë©´ ì•„ì´ë””ì–´ê°€ ì‹¤ì œ â€˜ì„±ê³¼ë¬¼â€™ë¡œ í’ì„±í•´ì§‘ë‹ˆë‹¤. ì½˜í…ì¸ Â·ë¸Œëœë”©Â·ì»¤ë®¤ë‹ˆí‹° ì˜ì—­ì—ì„œ ì˜í–¥ë ¥ì´ ì»¤ì§‘ë‹ˆë‹¤."
  },
  4:{
    plus:"êµ¬ì¡°í™”Â·ì‹œìŠ¤í…œÂ·ìš´ì˜ ì—­ëŸ‰ì´ ë‹¨ë‹¨í•©ë‹ˆë‹¤. ê¾¸ì¤€í•¨ê³¼ ì±…ì„ê°ìœ¼ë¡œ ì‹ ë¢°ë¥¼ ìŒ“ê³  ì¥ê¸° ì„±ê³¼ë¥¼ ì•ˆì •í™”í•©ë‹ˆë‹¤. ë‹¹ì‹ ì´ ë§Œë“  ë£°ì´ ëª¨ë‘ë¥¼ í¸í•˜ê²Œ í•©ë‹ˆë‹¤.",
    minus:"ë³€í™”ë¥¼ í”¼í•˜ê±°ë‚˜ ì§€ë‚˜ì¹˜ê²Œ ê·œì¹™ì— ì˜ì¡´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. â€˜ì‹œí—˜íŒâ†’í‘œì¤€í™”â€™ ìˆœì„œë¡œ ìœ ì—°í•¨ì„ í™•ë³´í•˜ì„¸ìš”. ìƒˆë¡œì›€ì— ì‘ì€ ì‹¤í—˜ì°½ì„ í•­ìƒ ì—´ì–´ë‘ë©´ ì¢‹ì•„ìš”.",
    synergy:"{card}ì™€(ê³¼) í•¨ê»˜í•˜ë©´ ê¸°ë°˜ê³¼ ê±°ë²„ë„ŒìŠ¤ê°€ ë¹ ë¥´ê²Œ ì •ë¦¬ë©ë‹ˆë‹¤. ë§¤ë‰´ì–¼Â·í”„ë¡œì„¸ìŠ¤Â·ì¬ë¬´ ê´€ë¦¬ì—ì„œ ê°•ì ì„ ë³´ì…ë‹ˆë‹¤."
  },
  5:{
    plus:"ë³€í™”ì™€ ì‹¤í—˜ì„ ë‘ë ¤ì›Œí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. íŠ¸ë Œë“œì— ë¹ ë¥´ê²Œ ì ì‘í•˜ë©° ìƒˆ íŒì„ ì§œëŠ” ëŠ¥ë ¥ì´ íƒì›”í•©ë‹ˆë‹¤. ë‚¯ì„  í™˜ê²½ì—ì„œ ì˜¤íˆë ¤ ì—ë„ˆì§€ê°€ ë‚©ë‹ˆë‹¤.",
    minus:"ë£¨í‹´ì´ ì‰½ê²Œ ë¬´ë„ˆì§€ê³  ì¤‘ë„ ì´íƒˆ ìœ„í—˜ì´ ìˆìŠµë‹ˆë‹¤. ì¥ê¸° ëª©í‘œë¥¼ ì‘ì€ ìŠ¤í”„ë¦°íŠ¸ë¡œ ë‚˜ëˆ  ê´€ë¦¬í•˜ì„¸ìš”. â€˜ê¸ˆìš”ì¼ íšŒê³ â€™ ê°™ì€ ë¦¬ë“¬ì´ íš¨ê³¼ì ì…ë‹ˆë‹¤.",
    synergy:"{card}ì™€(ê³¼) ê²°í•©í•˜ë©´ â€˜ììœ  ì†ì˜ ë‚´ê³µâ€™ì´ ë¶™ìŠµë‹ˆë‹¤. êµìœ¡Â·ì—¬í–‰Â·ì‹ ê·œ ì„œë¹„ìŠ¤ ë² íƒ€ ë¡ ì¹­ì— ìœ ë¦¬í•©ë‹ˆë‹¤."
  },
  6:{
    plus:"ëŒë´„Â·ì±…ì„Â·ì¡°í™”ì˜ ì—ë„ˆì§€ê°€ í½ë‹ˆë‹¤. ê´€ê³„ì™€ íŒ€ì˜ ê· í˜•ì„ ì¡ì•„ ì£¼ë©° ë¯¿ìŒì„ êµ¬ì¶•í•©ë‹ˆë‹¤. ì„œë¹„ìŠ¤ ë§ˆì¸ë“œê°€ ê³ ê°ê²½í—˜ì„ ê²¬ì¸í•©ë‹ˆë‹¤.",
    minus:"ê³¼ì‰ ì±…ì„ìœ¼ë¡œ ë²ˆì•„ì›ƒì´ ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê²½ê³„ ì„¤ì •ê³¼ ì—­í•  ë¶„ë‹´ì´ ì¤‘ìš”í•©ë‹ˆë‹¤. â€˜ë„ì›€ ìš”ì²­â€™ë„ ëŠ¥ë ¥ì˜ ì¼ë¶€ë¼ëŠ” ê±¸ ê¸°ì–µí•˜ì„¸ìš”.",
    synergy:"{card}ì™€(ê³¼) í•¨ê»˜í•˜ë©´ â€˜ê°€ì¹˜ ì •ë ¬ëœ ì„ íƒâ€™ì´ ì„ ëª…í•´ì§‘ë‹ˆë‹¤. íŒŒíŠ¸ë„ˆì‹­Â·ê³ ê° ê²½í—˜Â·ì»¤ë®¤ë‹ˆí‹° ìš´ì˜ì—ì„œ ì„±ê³¼ê°€ ë‚©ë‹ˆë‹¤."
  },
  7:{
    plus:"íƒêµ¬Â·ë¶„ì„Â·ì„±ì°°ì˜ ê¸°ì§ˆì´ ê°•í•´ ë³¸ì§ˆì„ ì •í™•íˆ ì§šì–´ëƒ…ë‹ˆë‹¤. ê¹Šì´ ìˆëŠ” ì—°êµ¬ì™€ ì •ë¦¬ë¡œ ë¬¸ì œë¥¼ í•´ê²°í•©ë‹ˆë‹¤. ì•¼ê·¼ë³´ë‹¤ â€˜ê¹Šì€ ì§‘ì¤‘ í•œ ì‹œê°„â€™ì´ ë” ì„±ê³¼ ë‚©ë‹ˆë‹¤.",
    minus:"ê³¼í•œ ê³ ë¦½ê³¼ ì™„ë²½ì£¼ì˜ë¡œ ì‹¤í–‰ì´ ëŠ¦ì–´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì ì‹œì„± ìˆëŠ” â€˜80% ì™„ì„±â€™ ì „ëµì„ ë³‘í–‰í•˜ì„¸ìš”. ê²°ê³¼ ê³µìœ  ì£¼ê¸°ë¥¼ ì§§ê²Œ ê°€ì ¸ê°€ë©´ ì†ë„ê°€ ë‚©ë‹ˆë‹¤.",
    synergy:"{card}ì™€(ê³¼) ê²°í•©í•˜ë©´ ê¹Šì´+ì†ë„ê°€ ë™ì‹œì— ì‚´ì•„ë‚©ë‹ˆë‹¤. ì „ëµÂ·ë°ì´í„°Â·ë¦¬ì„œì¹˜ ê²°ê³¼ë¥¼ ì‹¤ì „ì— ì—°ê²°í•©ë‹ˆë‹¤."
  },
  8:{
    plus:"ì„±ê³¼ì™€ ì¬ì •Â·ê±°ë²„ë„ŒìŠ¤ì— ê°•í•©ë‹ˆë‹¤. ëª©í‘œë¥¼ êµ¬ì¡°í™”í•´ í‚¤ìš°ëŠ” ëŠ¥ë ¥ì´ ë›°ì–´ë‚˜ ì¡°ì§ì„ ì•ˆì •í™”í•©ë‹ˆë‹¤. â€˜í™•ì¥ ê³„íšâ€™ì— í˜„ì‹¤ì„±ì´ ë¬»ì–´ë‚©ë‹ˆë‹¤.",
    minus:"í†µì œê°€ ê³¼í•˜ë©´ íŒ€ì˜ ììœ¨ì„±ì´ ë–¨ì–´ì§€ê³  ê°ˆë“±ì´ ìƒê¹ë‹ˆë‹¤. â€˜ì›ì¹™ì€ ë‹¨ë‹¨, ìš´ìš©ì€ ìœ ì—°â€™ì„ ê¸°ì–µí•˜ì„¸ìš”. ê¶Œí•œ ìœ„ì„ í‘œì¤€ì„ ë§ˆë ¨í•˜ë©´ ê°ˆë“±ì´ ì¤„ì–´ë“­ë‹ˆë‹¤.",
    synergy:"{card}ì™€(ê³¼) í•¨ê»˜ë©´ ë¶€ë“œëŸ¬ìš´ í†µì œë¡œ ì§€ì† ê°€ëŠ¥í•œ ì„±ê³¼ ê´€ë¦¬ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤. í˜‘ìƒÂ·ìˆ˜ìµí™”Â·ìš´ì˜ ì´ê´„ì—ì„œ ìœ ë¦¬í•©ë‹ˆë‹¤."
  },
  9:{
    plus:"í¬ìš©Â·ë´‰ì‚¬Â·ì§€í˜œì˜ ì—ë„ˆì§€ê°€ í½ë‹ˆë‹¤. í° ê·¸ë¦¼ì˜ ì˜ë¯¸ë¥¼ ì½ê³  ì‚¬ëŒë“¤ì˜ ë§ˆìŒì„ ë‹¤ë…ì´ëŠ” ëŠ¥ë ¥ì´ ìˆìŠµë‹ˆë‹¤. ë‹¹ì‹ ì˜ ë§ì´ íƒ€ì¸ì—ê²Œ â€˜ì•ˆì‹¬â€™ì„ ì¤ë‹ˆë‹¤.",
    minus:"í˜„ì‹¤ ë””í…Œì¼ì„ ë†“ì¹˜ê±°ë‚˜ ì´ìƒí™”ë¡œ ì‹¤í–‰ë ¥ì´ ë–¨ì–´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‹¤ë¬´ íŒŒíŠ¸ë„ˆì™€ì˜ ì¡°í•©ì´ í•„ìš”í•´ìš”. KPIë¥¼ ëª‡ ê°œë§Œ ëª…í™•íˆ ì •í•˜ë©´ ì†ë„ê°€ ë‚©ë‹ˆë‹¤.",
    synergy:"{card}ì™€(ê³¼) ê²°í•©í•˜ë©´ â€˜ë‚´ì  í†µì°°â†’íƒ€ì¸ì—ê²Œ ë¹„ì¶˜ ë“±ë¶ˆâ€™ì´ ë©ë‹ˆë‹¤. ë©˜í† ë§Â·íë ˆì´ì…˜Â·ì»¤ë®¤ë‹ˆí‹° ì¼€ì–´ì— ê°•í•©ë‹ˆë‹¤."
  },
  11:{
    plus:"í†µì°°Â·ì˜ê°ì´ ì˜ˆë¦¬í•©ë‹ˆë‹¤. ê· í˜•ê° ìˆëŠ” íŒë‹¨ìœ¼ë¡œ ë³¸ì§ˆì„ ê°„íŒŒí•˜ê³  ë©”ì‹œì§€ë¥¼ ë˜ë ·í•˜ê²Œ ì „í•©ë‹ˆë‹¤. ë³µì¡í•œ ì‚¬ì•ˆë„ í•µì‹¬ í•œ ì¤„ë¡œ ì •ë¦¬í•  ìˆ˜ ìˆì–´ìš”.",
    minus:"ì™„ë²½ì£¼ì˜ì™€ ì˜ˆë¯¼í•¨ìœ¼ë¡œ ì²´ë ¥ì´ ì†Œëª¨ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë¦¬ë“¬ ê´€ë¦¬ì™€ íœ´ì‹ ì„¤ê³„ê°€ ì„±ê³¼ì˜ ê´€ê±´ì…ë‹ˆë‹¤. â€˜ë””ì§€í„¸ ì•ˆì‹ì‹œê°„â€™ì„ ìƒí™œí™”í•´ ë³´ì„¸ìš”.",
    synergy:"{card}ì™€(ê³¼) í•¨ê»˜í•˜ë©´ â€˜ì§„ì‹¤ ìœ„ì˜ ê· í˜•â€™ì´ ê°•í™”ë©ë‹ˆë‹¤. ì˜ì‚¬ê²°ì •Â·í¸ì§‘Â·ê²€ì¦ ë‹¨ê³„ì—ì„œ ê°•ë ¥í•©ë‹ˆë‹¤."
  },
  22:{
    plus:"ë§ˆìŠ¤í„° ë¹Œë”. í° ë¹„ì „ê³¼ ë³µì¡í•œ ì‹œìŠ¤í…œì„ ì‹¤ì œë¡œ êµ¬í˜„í•˜ëŠ” ëŠ¥ë ¥ì´ ìˆìŠµë‹ˆë‹¤. ë‹¤ì–‘í•œ ì´í•´ê´€ê³„ë¥¼ ì„¤ê³„í•´ ì™„ì£¼ë¡œ ì´ë•ë‹ˆë‹¤. ì¥ê¸° ë¡œë“œë§µì— ê°•í•©ë‹ˆë‹¤.",
    minus:"ìŠ¤ì¼€ì¼ì´ ì»¤ì„œ ì¤€ë¹„ ì—†ì´ ë‹¬ë¦¬ë©´ ì¢Œì´ˆ ìœ„í—˜ì´ í½ë‹ˆë‹¤. íŒŒíŠ¸ ë¶„í• Â·ì±…ì„ ë§¤íŠ¸ë¦­ìŠ¤Â·ë¦¬ìŠ¤í¬ ë³´ì™„ì„ ë³‘í–‰í•˜ì„¸ìš”. â€˜MVPâ†’í™•ì¥â€™ ìˆœì„œê°€ ì•ˆì „í•©ë‹ˆë‹¤.",
    synergy:"{card}ì™€(ê³¼) ë§Œë‚˜ë©´ â€˜ê°€ë³ê²Œ ì‹œì‘â†’ê±°ëŒ€í•œ ì‹¤í˜„â€™ìœ¼ë¡œ ì´ì–´ì§‘ë‹ˆë‹¤. ëŒ€í˜• í”„ë¡œì íŠ¸Â·í”Œë«í¼ êµ¬ì¶•ì— ìµœì ì…ë‹ˆë‹¤."
  }
};

const EXPLAINS_FALLBACK = {
  plus:"ê°•ì : ë‹¹ì‹ ë§Œì˜ ê°•ì ì´ ì„ ëª…í•´ì§€ëŠ” ì‹œê¸°ì…ë‹ˆë‹¤.",
  minus:"ì•½ì : ë¬´ë¦¬í•˜ê±°ë‚˜ ì¡°ê¸‰í•˜ê²Œ êµ´ì§€ ì•Šë„ë¡ ìŠ¤ìŠ¤ë¡œë¥¼ ë³´ì‚´í´ ì£¼ì„¸ìš”.",
  synergy:"ì‹œë„ˆì§€: {card}ì˜ ìƒì§•ê³¼ ë¼ì´í”„ íŒ¨ìŠ¤ê°€ ë§Œë‚˜ ìƒˆë¡œìš´ íë¦„ì„ ë§Œë“­ë‹ˆë‹¤."
};

/* ---------- ê³„ì‚°/ë Œë” ---------- */
function calc(dobStr){
  const sum = dobStr ? sumDigits(dobStr) : 0;
  const lifePath = reduceNumber(sum);
  const tarot = (lifePath===22) ? TAROT[0] : TAROT[lifePath];
  return {lifePath, tarot};
}

function tryLoadImage(numList){
  return new Promise((resolve)=>{
    const frame = document.getElementById('imgframe');
    const ph = document.getElementById('placeholder');
    const old = frame.querySelector('img'); if(old) old.remove();
    function next(i){
      if(i>=numList.length){ ph.style.display='flex'; return resolve(false); }
      const src = 'cards/' + numList[i] + '.png';
      const img = new Image();
      img.onload = ()=>{ ph.style.display='none'; frame.appendChild(img); resolve(true); };
      img.onerror = ()=> next(i+1);
      img.src = src;
    }
    next(0);
  });
}

function render(dob){
  const result = document.getElementById('result');
  const lpnum = document.getElementById('lpnum');
  const lptext = document.getElementById('lptext');
  const doblabel = document.getElementById('doblabel');
  const tarotline = document.getElementById('tarotline');
  const keywords = document.getElementById('keywords');
  const desc = document.getElementById('desc');
  const phnum = document.getElementById('phnum');
  const phname = document.getElementById('phname');
  const shareBtn = document.getElementById('share');
  const copybox = document.getElementById('copybox');
  const lpplus = document.getElementById('lp-plus');
  const lpminus = document.getElementById('lp-minus');
  const synergy = document.getElementById('synergy');
  const lpkw = document.getElementById('lpkw');

  const {lifePath, tarot} = calc(dob);
  result.style.display = 'block';
  copybox.style.display = 'none';

  const meta = LP_META[lifePath] || {label:'â€”', kw:[]};
  lpnum.textContent = lifePath;
  lptext.textContent = meta.label;
  lpkw.innerHTML = '';
  meta.kw.forEach(k=>{ const s=document.createElement('span'); s.className='kw'; s.textContent=k; lpkw.appendChild(s); });
  doblabel.textContent = 'ìƒì¼: ' + dob;

  const ex = EXPLAINS[lifePath] || EXPLAINS_FALLBACK;
  lpplus.textContent  = ex.plus;
  lpminus.textContent = ex.minus;

  tarotline.textContent = tarot ? (tarot.name + ' Â· ì¹´ë“œ ë²ˆí˜¸ ' + tarot.num) : 'â€”';
  keywords.innerHTML = '';
  (tarot?.kw || []).forEach(k=>{ const span=document.createElement('span'); span.className='kw'; span.textContent=k; keywords.appendChild(span); });
  desc.textContent = tarot?.desc || 'â€”';
  synergy.textContent = (ex.synergy || '').replaceAll('{card}', tarot?.name || 'í•´ë‹¹ ì¹´ë“œ');

  phnum.textContent = tarot?.num || 'â€“';
  phname.textContent = tarot?.name || 'ì¹´ë“œ';

  const nums = (lifePath===22) ? [0,22] : [lifePath];
  tryLoadImage(nums);

  shareBtn.style.display = 'inline-block';
  history.replaceState({}, '', location.pathname + '?dob=' + dob);
}

/* ---------- ê³µìœ  ---------- */
function onShare(){
  const copybox = document.getElementById('copybox');
  const url = location.href;
  navigator.clipboard?.writeText(url).then(()=>{
    copybox.style.display='block';
    setTimeout(()=> copybox.style.display='none', 2000);
  }).catch(()=>{
    alert('í´ë¦½ë³´ë“œ ë³µì‚¬ê°€ ì§€ì›ë˜ì§€ ì•Šì•„ìš”. ì£¼ì†Œì°½ ë§í¬ë¥¼ ì§ì ‘ ë³µì‚¬í•´ ì£¼ì„¸ìš”.');
  });
}

/* ---------- ì…ë ¥ UX: ìë™ íƒ­/ê²€ì¦ ---------- */
function main(){
  const yy = document.getElementById('yy');
  const mm = document.getElementById('mm');
  const dd = document.getElementById('dd');
  const btn = document.getElementById('calc');
  const shareBtn = document.getElementById('share');

  const segs = [yy, mm, dd];
  segs.forEach((el, i)=>{
    el.addEventListener('input', ()=>{
      const max = parseInt(el.getAttribute('maxlength') || '10', 10);
      el.value = el.value.replace(/[^\d]/g,'').slice(0, max);
      if(el.value.length===max && i<segs.length-1){ segs[i+1].focus(); }
    });
  });

  const params = new URLSearchParams(location.search);
  const dobQ = params.get('dob');
  if(dobQ && /\d{4}-\d{2}-\d{2}/.test(dobQ)){
    yy.value = dobQ.slice(0,4); mm.value = dobQ.slice(5,7); dd.value = dobQ.slice(8,10);
    render(dobQ);
  }

  function safeRender(){
    const y = yy.value.trim(); const m = mm.value.trim(); const d = dd.value.trim();
    if(!y || !m || !d || y.length!==4 || m.length!==2 || d.length!==2){ alert('ìƒë…„ì›”ì¼ì„ ì •í™•íˆ ì…ë ¥í•´ ì£¼ì„¸ìš”.\n(ì˜ˆ: 2001Â·08Â·15)'); return; }
    const d2 = d.padStart(2,'0'); const m2 = m.padStart(2,'0'); const dob = `${y}-${m2}-${d2}`;
    const t = new Date(dob);
    if(isNaN(t.getTime()) || t.getFullYear()!=y || (t.getMonth()+1)!=m2*1 || t.getDate()!=d2*1){
      alert('ìœ íš¨í•œ ë‚ ì§œê°€ ì•„ë‹ˆì—ìš”. ë‹¤ì‹œ í™•ì¸í•´ ì£¼ì„¸ìš”.'); return;
    }
    render(dob);
  }

  btn.addEventListener('click', safeRender);
  shareBtn.addEventListener('click', onShare);
}
main();
</script>
</body>
</html>
